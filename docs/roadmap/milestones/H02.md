# ğŸ† Milestone H02 â€” Telegram & Web Adapter

**Hito:** H02  
**Fase:** 2 / 4  
**PerÃ­odo:** 2025-11-01 ~ 2025-11-10  
**Responsable:** Ãlvaro FernÃ¡ndez Mota (CEO)  
**Estado:** ğŸ”„ EN CURSO (0%)

---

## ğŸ¯ Objetivo

Implementar adapter Telegram funcional con webhooks, web client base, autenticaciÃ³n OAuth2 y tests e2e. Permitir interacciÃ³n de usuarios externos con THEA IA a travÃ©s de Telegram y web.

---

## ğŸ“‹ Micro-recompensas

| Tarea | Deadline | Status | Horas | % |
|-------|----------|--------|-------|-----|
| Adapter Telegram base con FastAPI webhook | 2025-11-05 | â³ TODO | ?h | 0% |
| IntegraciÃ³n CoreRouter + FSM en Telegram | 2025-11-06 | â³ TODO | ?h | 0% |
| Web client scaffold (React + Vite) | 2025-11-07 | â³ TODO | ?h | 0% |
| OAuth2 autenticaciÃ³n (JWT + refresh tokens) | 2025-11-08 | â³ TODO | ?h | 0% |
| Tests e2e Telegram flow completo | 2025-11-09 | â³ TODO | ?h | 0% |
| DocumentaciÃ³n Telegram adapter | 2025-11-10 | â³ TODO | ?h | 0% |

**Total de horas estimadas:** 18h  
**Sesiones estimadas:** 2 sesiones

---

## âœ… Criterios de done

- [ ] Telegram bot funcional y desplegado en `src/theaia/adapters/telegram/`
- [ ] Webhooks FastAPI configurados y validados
- [ ] Web client responde a acciones FSM en tiempo real
- [ ] OAuth2 con gestiÃ³n de tokens funcional
- [ ] 100% de tests e2e sin fallos
- [ ] DocumentaciÃ³n completa en `docs/modules/adapters/telegram/`
- [ ] README, ROADMAP, CHANGELOG locales completados
- [ ] IntegraciÃ³n con Intent Detector y Entity Extractor validada

---

## ğŸ“¦ Entregables

### CÃ³digo

**Adapter Telegram:**
- `src/theaia/adapters/telegram/bot.py` â€” Bot Telegram base
- `src/theaia/adapters/telegram/webhooks.py` â€” GestiÃ³n de webhooks
- `src/theaia/adapters/telegram/handlers.py` â€” Handlers de mensajes
- `src/theaia/adapters/telegram/__init__.py` â€” Exports

**Web Client:**
- `frontend/src/main.jsx` â€” Entrada React
- `frontend/src/components/ChatWindow.jsx` â€” Ventana chat
- `frontend/src/services/api.js` â€” Cliente API
- `frontend/vite.config.js` â€” ConfiguraciÃ³n Vite

**AutenticaciÃ³n:**
- `src/theaia/core/auth/oauth.py` â€” OAuth2 provider
- `src/theaia/core/auth/jwt.py` â€” JWT manager

**Tests:**
- `src/theaia/tests/e2e/test_telegram_flow.py` â€” Tests e2e Telegram
- `src/theaia/tests/e2e/test_web_client.py` â€” Tests e2e web

### DocumentaciÃ³n

- `docs/modules/adapters/telegram/README.md` â€” Uso del adapter
- `docs/modules/adapters/telegram/ROADMAP.md` â€” Plan de desarrollo
- `docs/modules/adapters/telegram/CHANGELOG.md` â€” Historial versiones

---

## ğŸ”— Dependencias

- [x] H01 completado (raÃ­z + estructura)
- [ ] CoreRouter estable
- [ ] Intent Detector + Entity Extractor funcionales
- [ ] Database persistencia iniciada (H04)

---

## ğŸ“Š MÃ©tricas esperadas

- **Cobertura de tests:** â‰¥85%
- **Latencia Telegram:** <500ms por mensaje
- **Latencia Web:** <200ms por acciÃ³n
- **Uptime:** 99.5% en e2e tests
- **Throughput:** â‰¥100 mensajes/segundo

---

## ğŸ“… Timeline

| Fecha | Actividad | DuraciÃ³n | Status |
|-------|-----------|----------|--------|
| 2025-11-01 | Inicio scaffolding Telegram | â³ TODO | â³ |
| 2025-11-02 | Webhook setup FastAPI | â³ TODO | â³ |
| 2025-11-03 | Bot handlers conectados | â³ TODO | â³ |
| 2025-11-04 | IntegraciÃ³n CoreRouter | â³ TODO | â³ |
| 2025-11-05 | Tests Telegram iniciales | â³ TODO | â³ |
| 2025-11-06 | Web client scaffold | â³ TODO | â³ |
| 2025-11-07 | OAuth2 integrado | â³ TODO | â³ |
| 2025-11-08 | E2E tests completos | â³ TODO | â³ |
| 2025-11-09 | DocumentaciÃ³n final | â³ TODO | â³ |
| 2025-11-10 | Cierre y commit | â³ TODO | â³ |

---

## ğŸ”— Archivos histÃ³ricos referenciados

| Archivo | UbicaciÃ³n | AlineaciÃ³n |
|---------|-----------|-----------|
| roadmap_auditoria.md | docs/ | âœ… Adapter Telegram mencionado |
| src/theaia/adapters/ | src/ | âœ… Estructura existente |

---

## ğŸ”— Enlaces relacionados

- [Roadmap Maestro](../master.md)
- [H01 - OrganizaciÃ³n & Tests](./H01.md)
- [H03 - FSM Avanzado](./H03.md)
- [Diario de sesiones](../../diary/DIARY.md)

---

**Ãšltima actualizaciÃ³n:** 2025-10-31 02:56 CET  
**Responsable:** Ãlvaro FernÃ¡ndez Mota (CEO THEA IA)

> **Estado:** Listo para desarrollo en Fase 2. Dependencias de H01 satisfechas.

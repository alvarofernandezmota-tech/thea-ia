# 🏆 Milestone H02 — Telegram & Web Adapter

**Hito:** H02  
**Fase:** 2 / 4  
**Período:** 2025-11-01 ~ 2025-11-10  
**Responsable:** Álvaro Fernández Mota (CEO)  
**Estado:** 🔄 EN CURSO (0%)

---

## 🎯 Objetivo

Implementar adapter Telegram funcional con webhooks, web client base, autenticación OAuth2 y tests e2e. Permitir interacción de usuarios externos con THEA IA a través de Telegram y web.

---

## 📋 Micro-recompensas

| Tarea | Deadline | Status | Horas | % |
|-------|----------|--------|-------|-----|
| Adapter Telegram base con FastAPI webhook | 2025-11-05 | ⏳ TODO | ?h | 0% |
| Integración CoreRouter + FSM en Telegram | 2025-11-06 | ⏳ TODO | ?h | 0% |
| Web client scaffold (React + Vite) | 2025-11-07 | ⏳ TODO | ?h | 0% |
| OAuth2 autenticación (JWT + refresh tokens) | 2025-11-08 | ⏳ TODO | ?h | 0% |
| Tests e2e Telegram flow completo | 2025-11-09 | ⏳ TODO | ?h | 0% |
| Documentación Telegram adapter | 2025-11-10 | ⏳ TODO | ?h | 0% |

**Total de horas estimadas:** 18h  
**Sesiones estimadas:** 2 sesiones

---

## ✅ Criterios de done

- [ ] Telegram bot funcional y desplegado en `src/theaia/adapters/telegram/`
- [ ] Webhooks FastAPI configurados y validados
- [ ] Web client responde a acciones FSM en tiempo real
- [ ] OAuth2 con gestión de tokens funcional
- [ ] 100% de tests e2e sin fallos
- [ ] Documentación completa en `docs/modules/adapters/telegram/`
- [ ] README, ROADMAP, CHANGELOG locales completados
- [ ] Integración con Intent Detector y Entity Extractor validada

---

## 📦 Entregables

### Código

**Adapter Telegram:**
- `src/theaia/adapters/telegram/bot.py` — Bot Telegram base
- `src/theaia/adapters/telegram/webhooks.py` — Gestión de webhooks
- `src/theaia/adapters/telegram/handlers.py` — Handlers de mensajes
- `src/theaia/adapters/telegram/__init__.py` — Exports

**Web Client:**
- `frontend/src/main.jsx` — Entrada React
- `frontend/src/components/ChatWindow.jsx` — Ventana chat
- `frontend/src/services/api.js` — Cliente API
- `frontend/vite.config.js` — Configuración Vite

**Autenticación:**
- `src/theaia/core/auth/oauth.py` — OAuth2 provider
- `src/theaia/core/auth/jwt.py` — JWT manager

**Tests:**
- `src/theaia/tests/e2e/test_telegram_flow.py` — Tests e2e Telegram
- `src/theaia/tests/e2e/test_web_client.py` — Tests e2e web

### Documentación

- `docs/modules/adapters/telegram/README.md` — Uso del adapter
- `docs/modules/adapters/telegram/ROADMAP.md` — Plan de desarrollo
- `docs/modules/adapters/telegram/CHANGELOG.md` — Historial versiones

---

## 🔗 Dependencias

- [x] H01 completado (raíz + estructura)
- [ ] CoreRouter estable
- [ ] Intent Detector + Entity Extractor funcionales
- [ ] Database persistencia iniciada (H04)

---

## 📊 Métricas esperadas

- **Cobertura de tests:** ≥85%
- **Latencia Telegram:** <500ms por mensaje
- **Latencia Web:** <200ms por acción
- **Uptime:** 99.5% en e2e tests
- **Throughput:** ≥100 mensajes/segundo

---

## 📅 Timeline

| Fecha | Actividad | Duración | Status |
|-------|-----------|----------|--------|
| 2025-11-01 | Inicio scaffolding Telegram | ⏳ TODO | ⏳ |
| 2025-11-02 | Webhook setup FastAPI | ⏳ TODO | ⏳ |
| 2025-11-03 | Bot handlers conectados | ⏳ TODO | ⏳ |
| 2025-11-04 | Integración CoreRouter | ⏳ TODO | ⏳ |
| 2025-11-05 | Tests Telegram iniciales | ⏳ TODO | ⏳ |
| 2025-11-06 | Web client scaffold | ⏳ TODO | ⏳ |
| 2025-11-07 | OAuth2 integrado | ⏳ TODO | ⏳ |
| 2025-11-08 | E2E tests completos | ⏳ TODO | ⏳ |
| 2025-11-09 | Documentación final | ⏳ TODO | ⏳ |
| 2025-11-10 | Cierre y commit | ⏳ TODO | ⏳ |

---

## 🔗 Archivos históricos referenciados

| Archivo | Ubicación | Alineación |
|---------|-----------|-----------|
| roadmap_auditoria.md | docs/ | ✅ Adapter Telegram mencionado |
| src/theaia/adapters/ | src/ | ✅ Estructura existente |

---

## 🔗 Enlaces relacionados

- [Roadmap Maestro](../master.md)
- [H01 - Organización & Tests](./H01.md)
- [H03 - FSM Avanzado](./H03.md)
- [Diario de sesiones](../../diary/DIARY.md)

---

**Última actualización:** 2025-10-31 02:56 CET  
**Responsable:** Álvaro Fernández Mota (CEO THEA IA)

> **Estado:** Listo para desarrollo en Fase 2. Dependencias de H01 satisfechas.

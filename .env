# ==============================================
# THEA IA 2.0 ‚Äì VARIABLES DE ENTORNO
# Actualizado: 12 Nov 2025 - H02 PostgreSQL Setup
# ==============================================

# ==========================================
# üåç ENTORNO Y DEBUG
# ==========================================
ENVIRONMENT=development  # development, staging, production
DEBUG=true  # true para desarrollo, false en producci√≥n
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ==========================================
# üöÄ API REST (FastAPI)
# ==========================================
API_HOST=0.0.0.0  # 0.0.0.0 para escuchar en todas las interfaces
API_PORT=8000  # Puerto de la API
API_PREFIX=/api/v1  # Prefijo de versi√≥n de API
SECRET_KEY=your_super_secret_key_here_change_in_production  # Cambiar en producci√≥n

# ==========================================
# üóÑÔ∏è BASE DE DATOS POSTGRESQL (H02)
# Driver async: postgresql+asyncpg://
# ==========================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@127.0.0.1:5432/thea_ia
DATABASE_HOST=127.0.0.1  # IP local (evita problemas de red)
DATABASE_PORT=5432  # Puerto est√°ndar PostgreSQL
DATABASE_NAME=thea_ia  # Base de datos THEA IA
DATABASE_USER=postgres  # Usuario PostgreSQL
DATABASE_PASSWORD=postgres  # Contrase√±a (CAMBIAR en producci√≥n)

# Pool de conexiones
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# ==========================================
# üì¶ REDIS (Opcional ‚Äì Cache H08+)
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Vac√≠o si no tiene password en desarrollo
REDIS_DB=0
REDIS_ENABLED=false  # Activar en H08

# ==========================================
# ü§ñ BOT TELEGRAM (H02 - Prioridad 1)
# ==========================================
TELEGRAM_BOT_TOKEN=8297680422:AAGhueCQccdmc4vhVUma0lj6mL0p8h1OorI
TELEGRAM_USE_POLLING=true  # true=polling (dev), false=webhook (prod)
TELEGRAM_WEBHOOK_URL=  # URL p√∫blica para webhooks (producci√≥n)
TELEGRAM_WEBHOOK_SECRET=  # Secret para validar webhooks

# ==========================================
# üß† MACHINE LEARNING / NLP (H06)
# ==========================================
SPACY_MODEL=es_core_news_sm  # Modelo espa√±ol de spaCy
ML_CONFIDENCE_THRESHOLD=0.8  # Umbral de confianza (0.0-1.0)
INTENT_MODEL_PATH=models/intent_classifier.pkl
ENTITY_MODEL_PATH=models/entity_extractor.pkl

# ==========================================
# üìù LOGGING Y AUDITOR√çA
# ==========================================
LOG_FILE_PATH=logs/theaia.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ==========================================
# üìä M√âTRICAS Y MONITOREO (H12)
# ==========================================
PROMETHEUS_PORT=9090
METRICS_ENABLED=false  # Activar en H12
HEALTH_CHECK_INTERVAL=30

# ==========================================
# üîó INTEGRACIONES EXTERNAS (H14)
# ==========================================
# Google Calendar
GOOGLE_CALENDAR_ENABLED=false
GOOGLE_CALENDAR_CREDENTIALS_PATH=credentials/google_calendar.json
GOOGLE_CALENDAR_SCOPES=https://www.googleapis.com/auth/calendar

# Email Notifications
EMAIL_ENABLED=false
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=notifications@theaia.com
EMAIL_PASSWORD=your_email_app_password
EMAIL_FROM=noreply@theaia.com

# ==========================================
# üîê SEGURIDAD Y AUTENTICACI√ìN (H04)
# ==========================================
JWT_SECRET_KEY=your_jwt_secret_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
REFRESH_TOKEN_EXPIRATION_DAYS=7

# ==========================================
# üè¢ MULTI-TENANT (H02 - Decisi√≥n Sesi√≥n 5)
# ==========================================
DEFAULT_TENANT_ID=default
TENANT_ISOLATION_ENABLED=true

# ==========================================
# üß™ TESTING (H07)
# ==========================================
TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@127.0.0.1:5432/thea_ia_test
TEST_MODE=false

# ==========================================
# üì¶ DEPENDENCIAS ESPEC√çFICAS HITOS
# ==========================================
# H02: PostgreSQL + Telegram ‚úÖ
# H03: FSM Avanzado
# H04: Auth + Payments
# H05: 8 Agentes operativos
# H06: ML/NLP mejorado
# H07: Testing completo
# H08+: Redis, Docker, K8s, Monitoring

# ==========================================
# NOTAS IMPORTANTES
# ==========================================
# 1. NUNCA subir este archivo a Git (.gitignore)
# 2. Rotar SECRET_KEY y JWT_SECRET_KEY en producci√≥n
# 3. Usar variables de entorno seguras en staging/prod
# 4. DATABASE_PASSWORD cambiar en producci√≥n
# 5. TELEGRAM_BOT_TOKEN es SECRETO - no compartir
